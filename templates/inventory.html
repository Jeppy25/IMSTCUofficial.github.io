<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Inventory</title>
    <!-- Main CSS-->
    <link rel="stylesheet" type="text/css" href="static/css/main.css" />
    <!-- Font-icon css-->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
    <style>
      .flashes {
        list-style-type: none;
        padding: 0;
        margin: 0;
      }

      .flashes li {
        margin-bottom: 10px;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        background-color: rgba(4, 66, 0, 0.184);
      }
    </style>
  </head>
  <body class="app sidebar-mini">
    <!-- Navbar-->
    <header class="app-header">
      <a class="app-header__logo" href="dashboard.html">Com Lab</a>
      <!-- Sidebar toggle button-->
      <a
        class="app-sidebar__toggle"
        href="#"
        data-toggle="sidebar"
        aria-label="Hide Sidebar"></a>
      <!-- Navbar Right Menu-->
      <ul class="app-nav">
        <li class="app-search">
          <input class="app-search__input" type="search" placeholder="Search" />
          <button class="app-search__button">
            <i class="bi bi-search"></i>
          </button>
        </li>
        <!--Notification Menu-->
        <li class="dropdown">
          <a
            class="app-nav__item"
            href="#"
            data-bs-toggle="dropdown"
            aria-label="Show notifications"><i class="bi bi-bell fs-5"></i></a>
          <ul class="app-notification dropdown-menu dropdown-menu-right">
            <li class="app-notification__title">
              You have 4 new notifications.
            </li>
            <div class="app-notification__content">
              <li>
                <a class="app-notification__item" href="javascript:;"><span
                    class="app-notification__icon"><i
                      class="bi bi-envelope fs-4 text-primary"></i></span>
                  <div>
                    <p class="app-notification__message">
                      Lisa sent you a mail
                    </p>
                    <p class="app-notification__meta">2 min ago</p>
                  </div></a>
              </li>
              <li>
                <a class="app-notification__item" href="javascript:;"><span
                    class="app-notification__icon"><i
                      class="bi bi-exclamation-triangle fs-4 text-warning"></i></span>
                  <div>
                    <p class="app-notification__message">
                      Mail server not working
                    </p>
                    <p class="app-notification__meta">5 min ago</p>
                  </div></a>
              </li>
              <li>
                <a class="app-notification__item" href="javascript:;"><span
                    class="app-notification__icon"><i
                      class="bi bi-cash fs-4 text-success"></i></span>
                  <div>
                    <p class="app-notification__message">
                      Transaction complete
                    </p>
                    <p class="app-notification__meta">2 days ago</p>
                  </div></a>
              </li>
              <li>
                <a class="app-notification__item" href="javascript:;"><span
                    class="app-notification__icon"><i
                      class="bi bi-envelope fs-4 text-primary"></i></span>
                  <div>
                    <p class="app-notification__message">
                      Lisa sent you a mail
                    </p>
                    <p class="app-notification__meta">2 min ago</p>
                  </div></a>
              </li>
              <li>
                <a class="app-notification__item" href="javascript:;"><span
                    class="app-notification__icon"><i
                      class="bi bi-exclamation-triangle fs-4 text-warning"></i></span>
                  <div>
                    <p class="app-notification__message">
                      Mail server not working
                    </p>
                    <p class="app-notification__meta">5 min ago</p>
                  </div></a>
              </li>
              <li>
                <a class="app-notification__item" href="javascript:;"><span
                    class="app-notification__icon"><i
                      class="bi bi-cash fs-4 text-success"></i></span>
                  <div>
                    <p class="app-notification__message">
                      Transaction complete
                    </p>
                    <p class="app-notification__meta">2 days ago</p>
                  </div></a>
              </li>
            </div>
            <li class="app-notification__footer">
              <a href="#">See all notifications.</a>
            </li>
          </ul>
        </li>
        <!-- User Menu-->
        <li class="dropdown">
          <a
            class="app-nav__item"
            href="#"
            data-bs-toggle="dropdown"
            aria-label="Open Profile Menu"><i class="bi bi-person fs-4"></i></a>
          <ul class="dropdown-menu settings-menu dropdown-menu-right">
            <li>
              <a class="dropdown-item" href="page-user.html"><i
                  class="bi bi-gear me-2 fs-5"></i> Settings</a>
            </li>
            <li>
              <a class="dropdown-item" href="page-user.html"><i
                  class="bi bi-person me-2 fs-5"></i> Profile</a>
            </li>
            <li>
              <a class="dropdown-item" href="{{ url_for('logout') }}"><i
                  class="bi bi-box-arrow-right me-2 fs-5"></i> Logout</a>
            </li>
          </ul>
        </li>
      </ul>
    </header>
    <!-- Sidebar menu-->
    <div class="app-sidebar__overlay" data-toggle="sidebar"></div>
    <aside class="app-sidebar">
      <div class="app-sidebar__user">
        <img class="app-sidebar__user-avatar" src="static/images/TCU.png" />
        <div>
          <p class="app-sidebar__user-name">TCU</p>
          <p class="app-sidebar__user-designation">Inventory System</p>
        </div>
      </div>
      <ul class="app-menu">
        <li>
          <a class="app-menu__item" href="{{ url_for('Admin') }}"><i
              class="app-menu__icon bi bi-window"></i><span
              class="app-menu__label">Dashboard</span></a>
        </li>
        <li>
          <a class="app-menu__item active" href="{{ url_for('inventory') }}"><i
              class="app-menu__icon bi bi-table"></i><span
              class="app-menu__label">Inventory</span></a>
        </li>
        <li>
          <a class="app-menu__item" href="{{ url_for('manage_users') }}"><i
              class="app-menu__icon bi bi-people"></i><span
              class="app-menu__label">Manage Users</span></a>
        </li>
        <li>
          <a class="app-menu__item" href="{{ url_for('manage_reports') }}"><i
              class="app-menu__icon bi bi bi-inboxes"></i><span
              class="app-menu__label">Manage Reports</span></a>
        </li>
      </ul>
    </aside>

    <main class="app-content">

      <!-- App Title -->
      <div class="app-title">
        <div>
          <h1><i class="bi bi-table"> </i>Inventory</h1>
        </div>
        <ul class="app-breadcrumb breadcrumb">
          <li class="breadcrumb-item">
            <a href="{{ url_for('Admin') }}"><i class="bi bi-house-door fs-6"></i></a>
          </li>
          <li class="breadcrumb-item">
            <a>Inventory</a>
          </li>
        </ul>
      </div>

      <!-- Stupid Content -->

      <div class="row">

        <div class="col-md-12">
          <div class="col-md-8 mx-auto">
            <div class="tile">
              <h2 class="text-center">Computers</h2>
            </div>
          </div>

          <div class="row">
            <div class="col-md-8 ms-auto">
              <button
                class="btn btn-primary"
                data-bs-toggle="modal"
                data-bs-target="#add_modal">
                Add Computer
              </button>
            </div>

            <div class="col-md-4">
              <ul class="flashes" id="flash-messages">
                {% with messages = get_flashed_messages() %} {% if messages %}
                {%
                for
                message in messages %}
                <li>{{ message }}</li>
                {% endfor %} {% endif %} {% endwith %}
              </ul>
            </div>
          </div>
          <br>
          <div class="tile">
            <div class="tile-body">
              <div class="table-responsive">
                <table
                  class="table table-hover table-bordered"
                  id="sampleTable">
                  <thead>
                    <tr>
                      <th class="text-center">Computer No.</th>
                      <th>Mouse</th>
                      <th>Keyboard</th>
                      <th>Monitor</th>
                      <th>System Unit</th>
                      <th>Date Added</th>
                      <th class="text-center">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for row in invent1 %}
                    <tr>
                      <td class="text-center">{{row.0}}</td>
                      <td>{{row.1}}</td>
                      <td>{{row.2}}</td>
                      <td>{{row.3}}</td>
                      <td>{{row.4}}</td>
                      <td>{{row.5}}</td>
                      <td class="text-center">
                        <a
                          href="/update_inventory/{{row.0}}"
                          class="btn btn-warning btn-sm"
                          data-bs-toggle="modal"
                          data-bs-target="#edit_inventory{{row.0}}">Edit</a>
                        <a
                          href="/delete_inventory/{{row.0}}"
                          onclick="return confirm('Are Sure Want To Deleted ?')"
                          class="btn btn-danger btn-sm">Delete</a>
                      </td>
                    </tr>

                    <!-- Update Modal -->
                    <div
                      class="modal fade"
                      id="edit_inventory{{row.0}}"
                      data-bs-backdrop="static"
                      data-bs-keyboard="false"
                      tabindex="-1"
                      aria-labelledby="exampleModalLabel"
                      aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">
                              Edit Computer
                            </h1>
                            <button
                              type="button"
                              class="btn-close"
                              data-bs-dismiss="modal"
                              aria-label="Close"></button>
                          </div>

                          <!-- MODAL CONTENT HERE MTHRFCKER -->
                          <div class="modal-body">
                            <form
                              action="{{ url_for('update_inventory')}}"
                              method="POST">

                              <div class="mb-3">
                                <label for="computer_id" class="form-label">Computer
                                  Number</label>
                                <input
                                  value="{{row.0}}"
                                  name="computer_id"
                                  type="text"
                                  class="form-control"
                                  id="computer_id"
                                  readonly
                                  style="text-align: center; padding: 10px" />
                              </div>

                              <div class="mb-3">
                                <label for="mouse" class="form-label">Mouse</label>

                                <select name="mouse" class="form-select"
                                  id="mouse"
                                  style="text-align: center; padding: 10px">
                                  <option value="Working" {% if row.1=='Working'
                                    %}selected{% endif %}>Working</option>
                                  <option value="Not Working" {% if
                                    row.1=='Not Working' %}selected{% endif %}>Not
                                    Working</option>
                                  <option value="Missing" {% if row.1=='Missing'
                                    %}selected{% endif %}>Missing</option>
                                </select>

                              </div>

                              <div class="mb-3">
                                <label for="keyboard" class="form-label">Keyboard</label>

                                <select name="keyboard" class="form-select"
                                  id="keyboard"
                                  style="text-align: center; padding: 10px">
                                  <option value="Working" {% if row.2=='Working'
                                    %}selected{% endif %}>Working</option>
                                  <option value="Not Working" {% if
                                    row.2=='Not Working' %}selected{% endif %}>Not
                                    Working</option>
                                  <option value="Missing" {% if row.2=='Missing'
                                    %}selected{% endif %}>Missing</option>
                                </select>

                              </div>

                              <div class="mb-3">
                                <label for="monitor" class="form-label">Monitor</label>

                                <select name="monitor" class="form-select"
                                  id="monitor"
                                  style="text-align: center; padding: 10px">
                                  <option value="Working" {% if row.3=='Working'
                                    %}selected{% endif %}>Working</option>
                                  <option value="Not Working" {% if
                                    row.3=='Not Working' %}selected{% endif %}>Not
                                    Working</option>
                                  <option value="Missing" {% if row.3=='Missing'
                                    %}selected{% endif %}>Missing</option>
                                </select>

                              </div>

                              <div class="mb-3">
                                <label for="system_unit" class="form-label">System
                                  Unit</label>

                                <select name="system_unit" class="form-select"
                                  id="system_unit"
                                  style="text-align: center; padding: 10px">
                                  <option value="Working" {% if row.4=='Working'
                                    %}selected{% endif %}>Working</option>
                                  <option value="Not Working" {% if
                                    row.4=='Not Working' %}selected{% endif %}>Not
                                    Working</option>
                                  <option value="Missing" {% if row.4=='Missing'
                                    %}selected{% endif %}>Missing</option>
                                </select>

                              </div>
                              <button type="submit" class="btn btn-primary">
                                Save changes
                              </button>
                            </form>

                            <button
                              type="button"
                              class="btn btn-secondary"
                              data-bs-dismiss="modal">
                              Close
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- END Update Modal -->
                    {% endfor %}
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Insert Modal -->
      <div
        class="modal fade"
        id="add_modal"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalLabel">
                Add Computer
              </h1>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"></button>
            </div>

            <!-- MODAL CONTENT HERE MTHRFCKER -->
            <div class="modal-body">
              <form action="{{ url_for('insert_inventory')}}" method="POST">
                <div class="mb-3">
                  <label for="mouse">Mouse</label>
                  <select
                    name="mouse"
                    class="form-select"
                    id="mouse"
                    style="text-align: center; padding: 10px">
                    <option value="Working">Working</option>
                    <option value="Not Working">Not Working</option>
                    <option value="Missing">Missing</option>
                  </select>
                </div>
                <div class="mb-3">
                  <label for="keyboard">Keyboard</label>
                  <select
                    name="keyboard"
                    class="form-select"
                    id="keyboard"
                    style="text-align: center; padding: 10px">
                    <option value="Working">Working</option>
                    <option value="Not Working">Not Working</option>
                    <option value="Missing">Missing</option>
                  </select>
                </div>
                <div class="mb-3">
                  <label for="monitor">Monitor</label>
                  <select
                    name="monitor"
                    class="form-select"
                    id="monitor"
                    style="text-align: center; padding: 10px">
                    <option value="Working">Working</option>
                    <option value="Not Working">Not Working</option>
                    <option value="Missing">Missing</option>
                  </select>
                </div>
                <div class="mb-3">
                  <label for="system_unit">System Unit</label>
                  <select
                    name="system_unit"
                    class="form-select"
                    id="system_unit"
                    style="text-align: center; padding: 10px">
                    <option value="Working">Working</option>
                    <option value="Not Working">Not Working</option>
                    <option value="Missing">Missing</option>
                  </select>
                </div>
                <button type="submit" class="btn btn-primary">Save</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Essential javascripts for application to work-->
    <script src="static/js/jquery-3.7.0.min.js"></script>
    <script src="static/js/bootstrap.min.js"></script>
    <script src="static/js/main.js"></script>
    <!-- Page specific javascripts-->
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/v/bs5/dt-1.13.4/datatables.min.css" />
    <script src="static/js/script.js"></script>
    <!-- Data table plugin-->
    <script
      type="text/javascript"
      src="static/js/plugins/jquery.dataTables.min.js"></script>
    <script
      type="text/javascript"
      src="static/js/plugins/dataTables.bootstrap.min.js"></script>
    <script type="text/javascript">
      $("#sampleTable").DataTable();
    </script>
  </body>
</html>
